<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Color Picker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #fff;
      padding: 20px;
      color: #000;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
    }
    #resetBtn {
      align-self: flex-start;
      padding: 8px 12px;
      font-size: 0.9rem;
      background-color: #888;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    #resetBtn:hover { background-color: #aaa; }
    h1 {
      font-size: 2rem;
      margin: 0;
    }
#colorPicker {
  width: 300px;
  height: 300px;
  border: none;
  cursor: pointer;
}

    }
    .color-info {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
    }
    .format {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 8px;
      font-size: 1rem;
    }
    .format span {
      display: block;
      padding: 6px 8px;
      border: 1px solid rgba(0,0,0,0.2);
      border-radius: 4px;
      min-height: 1.5em;
      overflow-wrap: break-word;
      outline: none;
      text-align: left;
      background: rgba(255,255,255,0.8);
    }
    .copy-btn {
      padding: 8px;
      font-size: 0.9rem;
      background-color: #444;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .copy-btn:hover { background-color: #666; }
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    .copy-btn.copied {
      animation: pop 0.3s ease;
    }
    @media (min-width: 600px) {
      h1 { font-size: 2.5rem; }
      .format { font-size: 1.1rem; }
      .copy-btn { font-size: 1rem; padding: 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <button id="resetBtn">Reset</button>
    <h1>Color Picker</h1>
    <input type="color" id="colorPicker" value="#ff0000">
    <div class="color-info">
      <div class="format">
        <label for="hexValue">HEX</label>
        <span id="hexValue" contenteditable="true">#ff0000</span>
        <button class="copy-btn" onclick="copyText('hexValue', this)">Copy</button>
      </div>
      <div class="format">
        <label for="rgbValue">RGB</label>
        <span id="rgbValue" contenteditable="true">RGB(255, 0, 0)</span>
        <button class="copy-btn" onclick="copyText('rgbValue', this)">Copy</button>
      </div>
      <div class="format">
        <label for="hslValue">HSL</label>
        <span id="hslValue" contenteditable="true">HSL(0, 100%, 50%)</span>
        <button class="copy-btn" onclick="copyText('hslValue', this)">Copy</button>
      </div>
      <div class="format">
        <label for="hsvValue">HSV</label>
        <span id="hsvValue" contenteditable="true">HSV(0, 100%, 100%)</span>
        <button class="copy-btn" onclick="copyText('hsvValue', this)">Copy</button>
      </div>
      <div class="format">
        <label for="cmykValue">CMYK</label>
        <span id="cmykValue" contenteditable="true">0%, 100%, 100%, 0%</span>
        <button class="copy-btn" onclick="copyText('cmykValue', this)">Copy</button>
      </div>
    </div>
  </div>

  <script>
    const picker = document.getElementById('colorPicker');
    const spansInfo = [
      { id: 'hexValue', type: 'hex' },
      { id: 'rgbValue', type: 'rgb' },
      { id: 'hslValue', type: 'hsl' },
      { id: 'hsvValue', type: 'hsv' },
      { id: 'cmykValue', type: 'cmyk' }
    ];
    function hexToRgb(hex) {
      const r = parseInt(hex.slice(1,3),16),
            g = parseInt(hex.slice(3,5),16),
            b = parseInt(hex.slice(5,7),16);
      return {r,g,b};
    }
    function rgbToHex(r,g,b) {
      const to2 = n => n.toString(16).padStart(2,'0');
      return '#' + to2(r) + to2(g) + to2(b);
    }
    function rgbToHsl(r,g,b) {
      r/=255; g/=255; b/=255;
      const max = Math.max(r,g,b), min = Math.min(r,g,b);
      let h=0, s=0, l=(max+min)/2;
      if (max!==min) {
        const d = max-min;
        s = l>0.5 ? d/(2-max-min) : d/(max+min);
        switch(max){
          case r: h = (g-b)/d + (g<b?6:0); break;
          case g: h = (b-r)/d + 2; break;
          default: h = (r-g)/d + 4;
        }
        h /= 6;
      }
      return { h: Math.round(h*360), s: Math.round(s*100), l: Math.round(l*100) };
    }
    function hslToRgb(h,s,l) {
      h/=360; s/=100; l/=100;
      function hue2rgb(p,q,t){
        if(t<0) t+=1; if(t>1) t-=1;
        if(t<1/6) return p+(q-p)*6*t;
        if(t<1/2) return q;
        if(t<2/3) return p+(q-p)*(2/3-t)*6;
        return p;
      }
      let r,g,b;
      if(s===0) r=g=b=l;
      else {
        const q = l<0.5 ? l*(1+s) : l+s-l*s;
        const p = 2*l-q;
        r = hue2rgb(p,q,h+1/3);
        g = hue2rgb(p,q,h);
        b = hue2rgb(p,q,h-1/3);
      }
      return { r: Math.round(r*255), g: Math.round(g*255), b: Math.round(b*255) };
    }
    function rgbToHsv(r,g,b) {
      r/=255; g/=255; b/=255;
      const max = Math.max(r,g,b), min = Math.min(r,g,b), d = max-min;
      let h=0;
      if(d){
        switch(max){
          case r: h = (g-b)/d + (g<b?6:0); break;
          case g: h = (b-r)/d + 2; break;
          default: h = (r-g)/d + 4;
        }
        h *= 60;
      }
      const s = max ? d/max : 0;
      return { h: Math.round(h), s: Math.round(s*100), v: Math.round(max*100) };
    }
    function hsvToRgb(h,s,v) {
      s/=100; v/=100;
      const c = v*s;
      const x = c*(1-Math.abs((h/60)%2-1));
      const m = v-c;
      let r1=0,g1=0,b1=0;
      if(h<60) [r1,g1,b1]=[c,x,0];
      else if(h<120)[r1,g1,b1]=[x,c,0];
      else if(h<180)[r1,g1,b1]=[0,c,x];
      else if(h<240)[r1,g1,b1]=[0,x,c];
      else if(h<300)[r1,g1,b1]=[x,0,c];
      else [r1,g1,b1]=[c,0,x];
      return { r: Math.round((r1+m)*255), g: Math.round((g1+m)*255), b: Math.round((b1+m)*255) };
    }
    function rgbToCmyk(r,g,b) {
      let c=1-r/255, m=1-g/255, y=1-b/255;
      const k = Math.min(c,m,y);
      if(k<1){
        c=(c-k)/(1-k); m=(m-k)/(1-k); y=(y-k)/(1-k);
      } else c=m=y=0;
      return { c: Math.round(c*100), m: Math.round(m*100), y: Math.round(y*100), k: Math.round(k*100) };
    }
    function cmykToRgb(c,m,y,k) {
      c/=100; m/=100; y/=100; k/=100;
      return {
        r: Math.round(255*(1-c)*(1-k)),
        g: Math.round(255*(1-m)*(1-k)),
        b: Math.round(255*(1-y)*(1-k))
      };
    }
    function updateAll() {
      const hex = picker.value;
      const {r,g,b} = hexToRgb(hex);
      const hsl = rgbToHsl(r,g,b), hsv = rgbToHsv(r,g,b), cmyk = rgbToCmyk(r,g,b);
      document.getElementById('hexValue').textContent = hex;
      document.getElementById('rgbValue').textContent = `RGB(${r}, ${g}, ${b})`;
      document.getElementById('hslValue').textContent = `HSL(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
      document.getElementById('hsvValue').textContent = `HSV(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`;
      document.getElementById('cmykValue').textContent = `${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%`;
      document.body.style.backgroundColor = hex;
      const invR = 255 - r, invG = 255 - g, invB = 255 - b;
      const invHex = rgbToHex(invR, invG, invB);
      document.body.style.color = invHex;
      const reset = document.getElementById('resetBtn');
      reset.style.backgroundColor = invHex;
      reset.style.color = hex;
      document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.style.backgroundColor = invHex;
        btn.style.color = hex;
      });
    }
    function copyText(id, btn) {
      const txt = document.getElementById(id).textContent.trim();
      navigator.clipboard.writeText(txt).then(() => {
        btn.textContent = 'Copied!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.classList.remove('copied');
          btn.textContent = 'Copy';
        }, 1000);
      });
    }
    function handleEdit(e) {
      const info = spansInfo.find(s=>s.id===e.target.id);
      let txt = e.target.textContent.trim().toUpperCase();
      if (info.type==='hex') {
        let raw = txt.replace(/[^0-9A-F]/g, '');
        if (raw.length===3) raw = raw[0]+raw[0]+raw[1]+raw[1]+raw[2]+raw[2];
        if (/^[0-9A-F]{6}$/.test(raw)) {
          picker.value = '#' + raw; updateAll();
        }
      }
      if (info.type==='rgb') {
        const nums = txt.match(/\d{1,3}/g)||[];
        if (nums.length===3) {
          const [r,g,b] = nums.map(n=>Math.min(255,Math.max(0,Number(n))));
          picker.value = rgbToHex(r,g,b); updateAll();
        }
      }
      if (info.type==='hsl') {
        const nums = txt.match(/\d{1,3}/g)||[];
        if (nums.length===3) {
          const [h,s,l] = nums.map((n,i)=> i===0 ? ((n%360+360)%360) : Math.min(100,Math.max(0,Number(n))));
          const rgb = hslToRgb(h,s,l);
          picker.value = rgbToHex(rgb.r,rgb.g,rgb.b); updateAll();
        }
      }
      if (info.type==='hsv') {
        const nums = txt.match(/\d{1,3}/g)||[];
        if (nums.length===3) {
          const [h,s,v] = nums.map((n,i)=> i===0 ? ((n%360+360)%360) : Math.min(100,Math.max(0,Number(n))));
          const rgb = hsvToRgb(h,s,v);
          picker.value = rgbToHex(rgb.r,rgb.g,rgb.b); updateAll();
        }
      }
      if (info.type==='cmyk') {
        const nums = txt.match(/\d{1,3}/g)||[];
        if (nums.length===4) {
          const [c,m,y,k] = nums.map(n=>Math.min(100,Math.max(0,Number(n))));
          const rgb = cmykToRgb(c,m,y,k);
          picker.value = rgbToHex(rgb.r,rgb.g,rgb.b); updateAll();
        }
      }
    }
    spansInfo.forEach(({id})=>{
      const el = document.getElementById(id);
      el.addEventListener('blur', handleEdit);
      el.addEventListener('keydown', ev=>{
        if (ev.key==='Enter') { ev.preventDefault(); ev.target.blur(); }
      });
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      picker.value = '#ff0000'; updateAll();
    });
    picker.addEventListener('input', updateAll);
    updateAll();
  </script>
</body>
</html>
